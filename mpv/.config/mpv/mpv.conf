

# ----------------- GENERAL -----------------

#Profile which sets some quality settings (Recommended)
profile=high-quality

# Start in fullscreen mode by default.
fullscreen=yes

#Don't close the player after finishing the video
keep-open=yes

#The last position of your video is saved when quitting mpv
save-position-on-quit=yes

#Start mpv with a % smaller resolution of your screen
# autofit=50%

#Force seeking (if seeking doesn't work)
force-seekable=yes

#Cursor hide in ms
cursor-autohide=100

#Generate a playlist from same files in the same directory
autocreate-playlist=same

# ----------------- SCREENSHOT ----------------- 
screenshot-format=png
screenshot-high-bit-depth=yes
screenshot-png-compression=3
screenshot-jpeg-quality=95
screenshot-directory="~/screenshots/"
screenshot-template="mpv-%f-%wH.%wM.%wS.%wT-#%#00n"


# ----------------- PRIORITY ----------------- 

#Audio language priority
alang=ita,it,ja,jp,jpn,en,eng

#Subtitle language priority
slang=it,ita,en,eng


# ----------------- VIDEO ----------------- 

#See: https://github.com/mpv-player/mpv/wiki/GPU-Next-vs-GPU
vo=gpu-next

# called API
gpu-api=auto

#Hardware decoding for whatever your CPU/GPU supports (e.g. 8bit h264 / 10bit h265)
#Use "auto-safe" or "auto-copy-safe"
#"Copy" methods are safer to use, but the performance difference is probably not as high and maybe not even worth over "no" (disabled).
#Manual options:
#Nvidia GPU: "nvdec"/"nvdec-copy" (Recommended)
#Windows: "dxva2-copy" or "vulkan"/"vulkan-copy"
#Linux: "vaapi"/"vaapi-copy" or "vulkan"/"vulkan-copy"
#Else "no" and disable it
hwdec=auto-safe

#Ignore cropping (if specified inside a .mkv file)
video-crop=0x0+0+0

# ----------------- AUDIO ----------------- 
#Default volume of the player
volume=100

#Max volume of the player
volume-max=100

#Load external audio with (almost) the same name as the video
audio-file-auto=fuzzy

#Allow only mpv to send direct audio signals to the soundbar
#You need to activate "exclusive mode" in your sound driver on Windows
#This is highly recommended for a multi channel soundbar
audio-exclusive=yes

#Channels that your device supports
#"auto-safe" only sends channels that your active audio device can handle, which can cause issues for an ARC/eARC setup (uses TV instead of soundbar) 
#"auto" sends every channels as they're, which works for an eARC/ARC setup but also can cause issues if your sound device doesn't support certain channel setups
#An alternative is to set up a whitelist for supported channels
audio-channels=stereo

#Adds audio delay if you're watching with your headphones on PC (headphone jack) instead of TV (HDMI) output and notice some audio delay
#You have to adjust the value (ms)
audio-delay=+0.0

# Do not filter audio to keep pitch when changing playback speed.
audio-pitch-correction=yes



# ----------------- SUBS ----------------- 
#Forces showing subtitles while seeking through the video
demuxer-mkv-subtitle-preroll=yes

#Information passed from the video file to libass
#Disabling results in ignoring information for backward compatibility with broken subtitles
#Both enabling "all", partially "aspect-ratio" or disabling "none" most likely result in broken subtitles. 
sub-ass-use-video-data=aspect-ratio

#Don't select subtitles with the same language as the audio
#Using "forced" instead still selects it if marked as forced track
subs-with-matching-audio=no

#Subtitle blending in scenechanges (smoother effect)
#The difference is noticeable if you use interpolation with a non divisible integer (like 24fps content on 60Hz)
#Use "video" to render subtitles at the video resolution instead of screen resolution
#Keep in mind that this won't work with crop
blend-subtitles=yes

#Fixes subtitle timing for gaps smaller than 210ms
sub-fix-timing=yes

#Load external subtitles with (almost) the same name as the video 
sub-auto=fuzzy

# ----------------- DITHER ----------------- 
#Use "auto" (default) or "8"/"10"/"12" depending on your display bitdepth
#Can lead to ugly outputs when you set the wrong number or disable it entirely
dither-depth=auto

#Selects the dithering algorithm
#Use "fruit" (8-Bit/8-Bit+FRC display), "ordered" (true 10-Bit/12-Bit display) or "error-diffusion" with high-end GPUs
dither=fruit


# ----------------- MISC ----------------- 

# Pretend to be a web browser. Might fix playback with some streaming sites,
# but also will break with shoutcast streams.
user-agent="Mozilla/5.0"


# ----------------- PROFILES ----------------- 
# remeber that shaders override scale, cscale and dscale

[ART_CNN]
glsl-shaders-clr
glsl-shaders-append="~/.config/mpv/shaders/ArtCNN_C4F16.glsl"

[NNEDI3_32]
glsl-shaders-clr
glsl-shaders-append="~/.config/mpv/shaders/nnedi3-nns64-win8x6.hook"

[EWA_LANCZOSSHARP]
scale=ewa_lanczossharp
cscale=spline36
fbo-format=auto
glsl-shaders-clr
scale-blur=0

[SPLINE64]
scale=spline64
cscale=spline64
fbo-format=auto
glsl-shaders-clr
scale-blur=0

[HAASNSOFT]
scale=haasnsoft
cscale=haasnsoft
fbo-format=auto
glsl-shaders-clr
scale-blur=0

[NEAREST]
scale=nearest
cscale=nearest
fbo-format=auto
glsl-shaders-clr
scale-blur=0

[VANILLA]
scale=bilinear
cscale=bilinear
fbo-format=auto
glsl-shaders-clr
deband=no
scale-blur=0

[big-cache]
cache=yes
demuxer-max-bytes=512MiB
demuxer-readahead-secs=20

[image]
image-display-duration=inf
loop-file=yes

[protocol.http]
profile=big-cache
force-window=immediate

[protocol.https]
profile=big-cache
force-window=immediate

[extension.gif]
profile=image

[extension.png]
profile=image

[extension.jpg]
profile=image


[extension.flac]
autofit-smaller=1500x1500
autofit-larger=1500x1500
script-opts=osc-visibility=always

[extension.mp3]
autofit-smaller=1500x1500
autofit-larger=1500x1500
script-opts=osc-visibility=always

[extension.vpy]
demuxer-lavf-format = vapoursynth
scale=bilinear
cscale=bilinear
fbo-format=auto
glsl-shaders-clr
deband=no
scale-blur=0

[extension.y4m]
demuxer-lavf-format = vapoursynth
scale=bilinear
cscale=bilinear
fbo-format=auto
glsl-shaders-clr
deband=no
scale-blur=0